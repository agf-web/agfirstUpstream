services:
  imagemagick.format_mapper:
    class: Drupal\imagemagick\ImagemagickFormatMapper
    arguments: ['@cache.default', '@config.factory', '@config.typed']
  imagemagick.exec_manager:
    class: Drupal\imagemagick\ImagemagickExecManager
    arguments: ['@logger.channel.image', '@config.factory', '@app.root', '@current_user', '@imagemagick.format_mapper', '@messenger']
  imagemagick.event_subscriber:
    class: Drupal\imagemagick\EventSubscriber\ImagemagickEventSubscriber
    arguments: ['@logger.channel.image', '@config.factory', '@file_system']
    tags:
      - { name: 'event_subscriber' }
